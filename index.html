from dataclasses import dataclass
import random
from pathlib import Path


class State:
    def __init__(self):
        self.score = 0
        self.current_element = "Hydrogen"
        self.logged_in = False


class Page:
    def __init__(self, title: str, body: list[str]):
        self.title = title
        self.body = body

    def render(self):
        return f"""
        <html>
            <head><title>{self.title}</title></head>
            <body>
                {"<br>".join(self.body)}
            </body>
        </html>
        """


@view
def index(state: State):
    return Page(
        title="Chemical Elements Quiz",
        body=[
            f"Welcome! Your score is {state.score}.",
            f"Current element: {state.current_element}",
            "Are you logged in? " + str(state.logged_in),
        ]
    )


app = MyWebApp()
app.route("/", index)

# Start the server
app.run()
