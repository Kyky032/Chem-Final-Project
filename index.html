from dataclasses import dataclass
import random
from pathlib import Path


def export_static_site():
    # Create initial state
    state = State(score=0, current_element="")
    
    # Render the index page and save it as an HTML file
    page = index(state).to_html()
    output_dir = Path("public")
    output_dir.mkdir(exist_ok=True)
    (output_dir / "index.html").write_text(page)


@dataclass
class State:
    score: int
    current_element: str
    logged_in: bool


# Example of rendering an index page using state
def index(state: State):
    # Define your HTML template dynamically
    html_template = f"""<!DOCTYPE html>
<html>
<head>
    <title>Welcome to My Chemistry Site</title>
</head>
<body>
    <h1>Welcome to My Chemistry Site</h1>
    <p>Score: {state.score}</p>
    <p>Current Element: {state.current_element}</p>
</body>
</html>"""

    # Return HTML in a class-like object
    class Page:
        def to_html(self):
            return html_template

    return Page()


# Call the static site generator
if __name__ == "__main__":
    export_static_site()
